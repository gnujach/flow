import{q as u}from"./app-C-YJIKpS.js";function h(r,{method:i,url:c}){let a=new Set,l=!1;u(()=>r.data(),(e,t)=>{let n=Object.keys(e).filter(s=>e[s]!==t[s]);l=!0,a=new Set([...n,...a])});function d(){l&&(l=!1,Inertia.visit(c,{method:i,data:{...r.data(),prevalidate:!0},preserveState:!0,preserveScroll:!0,onSuccess:()=>r.clearErrors(),onError:e=>{Object.keys(e).filter(t=>!a.has(t)).forEach(t=>delete e[t]),r.clearErrors().setError(e)}}))}return{validate:d}}export{h as u};
