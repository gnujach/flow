import{A as _}from"./AppLayout-DXxu7OZx.js";import{J as y}from"./Button-DVPWxxFc.js";import{J}from"./FormSection-CDWOtBPG.js";import{J as u}from"./Input-Bi9ZYEbQ.js";import{J as k}from"./Checkbox-DH5pQW3r.js";import{J as n}from"./InputError-BmRptYG7.js";import{J as S}from"./SectionBorder-DsyNaBOs.js";import{J as i}from"./Label-CPL5DoaT.js";import{J as U}from"./ActionMessage-Bw3fR4d0.js";import{k as w,p as C,u as A,q as B,c as j,o as b,w as m,a as r,b as l,m as o,g as d,n as N,e as E,f as T}from"./app-C7InNpMe.js";import{u as q}from"./usePrevalidate-B_l0V9wO.js";import{_ as F}from"./Breadcrumb-Bp3rwvK9.js";import{_ as I}from"./BaseListbox-Db8huU5p.js";import{j as P}from"./index.es-NimMbIdP.js";import"./ResponsiveNavLink-BJaFqWiP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-DlpnTRhW.js";import"./transition-fHm7tQel.js";import"./open-closed-B6b92wWp.js";import"./keyboard-DAS5haSk.js";import"./use-resolve-button-type-0gOLkSFA.js";import"./SectionTitle-CU8_6zQ5.js";/* empty css            */import"./ChevronRightIcon-Dm2Z9UX0.js";import"./listbox-h77ybPM9.js";import"./form-BToOycQE.js";const G={class:"font-semibold text-xl text-gray-800 leading-tight"},D={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},L={class:"col-span-6 sm:col-span-4"},$={class:"col-span-6 sm:col-span-4"},z={class:"col-span-6 sm:col-span-4"},M={class:"col-span-6 sm:col-span-4"},R={class:"col-span-6 sm:col-span-4"},h={key:0,class:"col-span-6 sm:col-span-4"},H={class:"col-span-6 sm:col-span-4 flex flex-row justify-between"},K={class:"col-span-6 sm:col-span-4"},_e={__name:"CreateCliente",props:{puestos:{type:Array,required:!1,default:()=>[]},ccts:{type:Array,required:!1,default:()=>[]}},setup(p){const c=p,g=w(()=>[{label:"Inicio",url:route("dashboard.list")},{label:"Usuarios",url:route("admin.clientes/")},{label:"Nuevo usuario"}]),f=C(!0),V=c.ccts.map(a=>({label:a.full_name,value:a.id})),e=A({nombre:null,apellido1:null,apellido2:null,email:null,cct_id:1,interno:1,puesto_id:null,telefono:null,puesto_id:null}),{validate:v}=q(e,{method:"post",url:route("admin.clientes/store")}),x=()=>e.transform(a=>({...a,interno:a.interno?1:0})).post(route("admin.clientes/store"),{errorBag:"saveRequisitoInformation",preserveScroll:!0});return B(()=>e.interno,a=>{f.value=a,a||(e.cct_id=1)}),(a,s)=>(b(),j(_,null,{header:m(()=>[r("h2",G,[l(F,{items:g.value},null,8,["items"])])]),default:m(()=>[r("div",D,[l(J,{onFocusout:o(v),onSubmitted:x},{title:m(()=>[...s[8]||(s[8]=[d(" Usuarios",-1)])]),description:m(()=>[...s[9]||(s[9]=[d(" Alta de Usuario",-1)])]),form:m(()=>[r("div",L,[l(i,{for:"nombre",value:"Nombre"}),l(u,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:o(e).nombre,"onUpdate:modelValue":s[0]||(s[0]=t=>o(e).nombre=t),autocomplete:"nombre",autofocus:""},null,8,["modelValue"]),l(n,{message:o(e).errors.nombre,class:"mt-2"},null,8,["message"])]),r("div",$,[l(i,{for:"apellido1",value:"Primer Apellido"}),l(u,{id:"apellido1",type:"text",class:"mt-1 block w-full",modelValue:o(e).apellido1,"onUpdate:modelValue":s[1]||(s[1]=t=>o(e).apellido1=t),autocomplete:"apellido1"},null,8,["modelValue"]),l(n,{message:o(e).errors.apellido1,class:"mt-2"},null,8,["message"])]),r("div",z,[l(i,{for:"apellido2",value:"Segundo Apellido"}),l(u,{id:"apellido2",type:"text",class:"mt-1 block w-full",modelValue:o(e).apellido2,"onUpdate:modelValue":s[2]||(s[2]=t=>o(e).apellido2=t)},null,8,["modelValue"]),l(n,{message:o(e).errors.apellido2,class:"mt-2"},null,8,["message"])]),r("div",M,[l(i,{for:"email",value:"Correo Electrónico"}),l(u,{id:"email",type:"text",class:"mt-1 block w-full",modelValue:o(e).email,"onUpdate:modelValue":s[3]||(s[3]=t=>o(e).email=t)},null,8,["modelValue"]),l(n,{message:o(e).errors.email,class:"mt-2"},null,8,["message"])]),r("div",R,[l(i,{for:"telefono",value:"Teléfono"}),l(u,{id:"telefono",type:"text",class:"mt-1 block w-full",modelValue:o(e).telefono,"onUpdate:modelValue":s[4]||(s[4]=t=>o(e).telefono=t)},null,8,["modelValue"]),l(n,{message:o(e).errors.telefono,class:"mt-2"},null,8,["message"])]),c.puestos&&p.puestos.length>0?(b(),E("div",h,[l(i,{for:"puesto",value:"Puesto"}),l(I,{options:p.puestos,placeholder:"Seleccione Puesto de Trabajo",modelValue:o(e).puesto_id,"onUpdate:modelValue":s[5]||(s[5]=t=>o(e).puesto_id=t)},null,8,["options","modelValue"]),l(n,{message:o(e).errors.puesto_id,class:"mt-2"},null,8,["message"])])):T("",!0),r("div",H,[l(i,{for:"interno",value:"El usuario pertenece a SEG"}),l(k,{id:"interno",type:"checkbox",class:"mt-1 block",checked:"",modelValue:o(e).interno,"onUpdate:modelValue":s[6]||(s[6]=t=>o(e).interno=t)},null,8,["modelValue"]),l(n,{message:o(e).errors.interno,class:"mt-2"},null,8,["message"])]),r("div",K,[l(i,{for:"cct_id",value:"Centro de Trabajo"}),l(o(P),{options:o(V),placeholder:"Seleccione Centro de Trabajo",modelValue:o(e).cct_id,"onUpdate:modelValue":s[7]||(s[7]=t=>o(e).cct_id=t),isDisabled:!f.value},null,8,["options","modelValue","isDisabled"]),l(n,{message:o(e).errors.cct_id,class:"mt-2"},null,8,["message"])])]),actions:m(()=>[l(U,{on:o(e).recentlySuccessful,class:"mr-3"},{default:m(()=>[...s[10]||(s[10]=[d(" Guardado!! ",-1)])]),_:1},8,["on"]),l(S),l(y,{class:N({"opacity-25":o(e).processing}),disabled:o(e).processing},{default:m(()=>[...s[11]||(s[11]=[d(" Guardar ",-1)])]),_:1},8,["class","disabled"])]),_:1},8,["onFocusout"])])]),_:1}))}};export{_e as default};
