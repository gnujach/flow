import{b as _,f as U,o as p,A as F,T as K,u as D,i as W,a as g,N as M}from"./keyboard-CEw009Jf.js";import{s as V}from"./use-resolve-button-type-MqscY4ya.js";import{d as A,p as P,U as j,k as m,N as R,x as C,q as Z,M as J,F as Q,A as z,O as q,e as X,o as Y,a as ee}from"./app-D6wma5Jt.js";import{O as E,T as N,a as te,P as $,N as T}from"./open-closed-CYEdXda2.js";import{t as ae}from"./transition-BLi5fHmm.js";let le=A({props:{onFocus:{type:Function,required:!0}},setup(e){let i=P(!0);return()=>i.value?j(U,{as:"button",type:"button",features:_.Focusable,onFocus(c){c.preventDefault();let v,f=50;function u(){var l;if(f--<=0){v&&cancelAnimationFrame(v);return}if((l=e.onFocus)!=null&&l.call(e)){i.value=!1,cancelAnimationFrame(v);return}v=requestAnimationFrame(u)}v=requestAnimationFrame(u)}}):null}});var re=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(re||{}),ne=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(ne||{});let H=Symbol("TabsContext");function B(e){let i=q(H,null);if(i===null){let c=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(c,B),c}return i}let G=Symbol("TabsSSRContext"),ve=A({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:i,attrs:c,emit:v}){var f;let u=P((f=e.selectedIndex)!=null?f:e.defaultIndex),l=P([]),n=P([]),x=m(()=>e.selectedIndex!==null),S=m(()=>x.value?e.selectedIndex:u.value);function y(a){var r;let o=E(s.tabs.value,p),t=E(s.panels.value,p),d=o.filter(I=>{var h;return!((h=p(I))!=null&&h.hasAttribute("disabled"))});if(a<0||a>o.length-1){let I=D(u.value===null?0:Math.sign(a-u.value),{[-1]:()=>1,0:()=>D(Math.sign(a),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),h=D(I,{0:()=>o.indexOf(d[0]),1:()=>o.indexOf(d[d.length-1])});h!==-1&&(u.value=h),s.tabs.value=o,s.panels.value=t}else{let I=o.slice(0,a),h=[...o.slice(a),...I].find(L=>d.includes(L));if(!h)return;let w=(r=o.indexOf(h))!=null?r:s.selectedIndex.value;w===-1&&(w=s.selectedIndex.value),u.value=w,s.tabs.value=o,s.panels.value=t}}let s={selectedIndex:m(()=>{var a,r;return(r=(a=u.value)!=null?a:e.defaultIndex)!=null?r:null}),orientation:m(()=>e.vertical?"vertical":"horizontal"),activation:m(()=>e.manual?"manual":"auto"),tabs:l,panels:n,setSelectedIndex(a){S.value!==a&&v("change",a),x.value||y(a)},registerTab(a){var r;if(l.value.includes(a))return;let o=l.value[u.value];if(l.value.push(a),l.value=E(l.value,p),!x.value){let t=(r=l.value.indexOf(o))!=null?r:u.value;t!==-1&&(u.value=t)}},unregisterTab(a){let r=l.value.indexOf(a);r!==-1&&l.value.splice(r,1)},registerPanel(a){n.value.includes(a)||(n.value.push(a),n.value=E(n.value,p))},unregisterPanel(a){let r=n.value.indexOf(a);r!==-1&&n.value.splice(r,1)}};R(H,s);let b=P({tabs:[],panels:[]}),O=P(!1);C(()=>{O.value=!0}),R(G,m(()=>O.value?null:b.value));let k=m(()=>e.selectedIndex);return C(()=>{Z([k],()=>{var a;return y((a=e.selectedIndex)!=null?a:e.defaultIndex)},{immediate:!0})}),J(()=>{if(!x.value||S.value==null||s.tabs.value.length<=0)return;let a=E(s.tabs.value,p);a.some((r,o)=>p(s.tabs.value[o])!==p(r))&&s.setSelectedIndex(a.findIndex(r=>p(r)===p(s.tabs.value[S.value])))}),()=>{let a={selectedIndex:u.value};return j(Q,[l.value.length<=0&&j(le,{onFocus:()=>{for(let r of l.value){let o=p(r);if(o?.tabIndex===0)return o.focus(),!0}return!1}}),F({theirProps:{...c,...K(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:a,slots:i,attrs:c,name:"TabGroup"})])}}}),pe=A({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:i,slots:c}){let v=B("TabList");return()=>{let f={selectedIndex:v.selectedIndex.value},u={role:"tablist","aria-orientation":v.orientation.value};return F({ourProps:u,theirProps:e,slot:f,attrs:i,slots:c,name:"TabList"})}}}),ce=A({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:i,slots:c,expose:v}){var f;let u=(f=e.id)!=null?f:`headlessui-tabs-tab-${W()}`,l=B("Tab"),n=P(null);v({el:n,$el:n}),C(()=>l.registerTab(n)),z(()=>l.unregisterTab(n));let x=q(G),S=m(()=>{if(x.value){let t=x.value.tabs.indexOf(u);return t===-1?x.value.tabs.push(u)-1:t}return-1}),y=m(()=>{let t=l.tabs.value.indexOf(n);return t===-1?S.value:t}),s=m(()=>y.value===l.selectedIndex.value);function b(t){var d;let I=t();if(I===N.Success&&l.activation.value==="auto"){let h=(d=te(n))==null?void 0:d.activeElement,w=l.tabs.value.findIndex(L=>p(L)===h);w!==-1&&l.setSelectedIndex(w)}return I}function O(t){let d=l.tabs.value.map(I=>p(I)).filter(Boolean);if(t.key===g.Space||t.key===g.Enter){t.preventDefault(),t.stopPropagation(),l.setSelectedIndex(y.value);return}switch(t.key){case g.Home:case g.PageUp:return t.preventDefault(),t.stopPropagation(),b(()=>$(d,T.First));case g.End:case g.PageDown:return t.preventDefault(),t.stopPropagation(),b(()=>$(d,T.Last))}if(b(()=>D(l.orientation.value,{vertical(){return t.key===g.ArrowUp?$(d,T.Previous|T.WrapAround):t.key===g.ArrowDown?$(d,T.Next|T.WrapAround):N.Error},horizontal(){return t.key===g.ArrowLeft?$(d,T.Previous|T.WrapAround):t.key===g.ArrowRight?$(d,T.Next|T.WrapAround):N.Error}}))===N.Success)return t.preventDefault()}let k=P(!1);function a(){var t;k.value||(k.value=!0,!e.disabled&&((t=p(n))==null||t.focus({preventScroll:!0}),l.setSelectedIndex(y.value),ae(()=>{k.value=!1})))}function r(t){t.preventDefault()}let o=V(m(()=>({as:e.as,type:i.type})),n);return()=>{var t,d;let I={selected:s.value,disabled:(t=e.disabled)!=null?t:!1},{...h}=e,w={ref:n,onKeydown:O,onMousedown:r,onClick:a,id:u,role:"tab",type:o.value,"aria-controls":(d=p(l.panels.value[y.value]))==null?void 0:d.id,"aria-selected":s.value,tabIndex:s.value?0:-1,disabled:e.disabled?!0:void 0};return F({ourProps:w,theirProps:h,slot:I,attrs:i,slots:c,name:"Tab"})}}}),fe=A({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:i,attrs:c}){let v=B("TabPanels");return()=>{let f={selectedIndex:v.selectedIndex.value};return F({theirProps:e,ourProps:{},slot:f,attrs:c,slots:i,name:"TabPanels"})}}}),be=A({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(e,{attrs:i,slots:c,expose:v}){var f;let u=(f=e.id)!=null?f:`headlessui-tabs-panel-${W()}`,l=B("TabPanel"),n=P(null);v({el:n,$el:n}),C(()=>l.registerPanel(n)),z(()=>l.unregisterPanel(n));let x=q(G),S=m(()=>{if(x.value){let b=x.value.panels.indexOf(u);return b===-1?x.value.panels.push(u)-1:b}return-1}),y=m(()=>{let b=l.panels.value.indexOf(n);return b===-1?S.value:b}),s=m(()=>y.value===l.selectedIndex.value);return()=>{var b;let O={selected:s.value},{tabIndex:k,...a}=e,r={ref:n,id:u,role:"tabpanel","aria-labelledby":(b=p(l.tabs.value[y.value]))==null?void 0:b.id,tabIndex:s.value?k:-1};return!s.value&&e.unmount&&!e.static?j(U,{as:"span","aria-hidden":!0,...r}):F({ourProps:r,theirProps:a,slot:O,attrs:i,slots:c,features:M.Static|M.RenderStrategy,visible:s.value,name:"TabPanel"})}}});function me(e,i){return Y(),X("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ee("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}export{fe as I,ve as m,pe as p,me as r,ce as x,be as y};
