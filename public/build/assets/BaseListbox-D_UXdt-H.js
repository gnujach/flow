import{e as a,o as t,a as i,k as x,r as w,c as v,w as o,b as r,f as b,m as n,t as c,T as k,F as V,h as S,n as g}from"./app-CrjSDSZE.js";import{j as B,A,F as C,I as F}from"./listbox-BMGSUSqR.js";function I(u,d){return t(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[i("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})])}const N={class:"relative mt-1"},j={key:0,class:"block truncate"},L={key:1,class:"text-gray-500"},z={class:"flex absolute inset-y-0 right-0 items-center pr-2 pointer-events-none"},T={key:0,class:"flex absolute inset-y-0 left-0 items-center pl-3 text-amber-600"},Z={key:0,class:"text-xs text-red-400 mt-1"},M={__name:"BaseListbox",props:{options:Array,modelValue:[String,Number,Array],placeholder:{type:String,default:"Select option"},multiple:Boolean,error:String},emits:["update:modelValue"],setup(u,{emit:d}){const e=u,_=d,m=x(()=>e.options.filter(s=>Array.isArray(e.modelValue)?e.modelValue.includes(s.id):e.modelValue===s.id).map(s=>s.nombre).join(", "));return(s,p)=>{const h=w("SelectorIcon");return t(),v(n(F),{"model-value":e.modelValue,multiple:e.multiple,"onUpdate:modelValue":p[0]||(p[0]=l=>_("update:modelValue",l))},{default:o(()=>[i("div",N,[r(n(B),{class:"select relative py-2 pr-10 pl-3 w-full text-left bg-white rounded-lg shadow-md cursor-default focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:o(()=>[m.value?(t(),a("span",j,c(m.value),1)):(t(),a("span",L,c(e.placeholder),1)),i("span",z,[r(h,{"aria-hidden":"true",class:"w-5 h-5 text-gray-400"})])]),_:1}),r(k,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:o(()=>[r(n(A),{class:"overflow-auto absolute z-10 py-1 mt-1 w-full max-h-60 text-base bg-white rounded-md ring-1 ring-black ring-opacity-5 shadow-lg focus:outline-none sm:text-sm"},{default:o(()=>[(t(!0),a(V,null,S(e.options,l=>(t(),v(n(C),{key:l.nombre,value:l.id,as:"template"},{default:o(({active:y,selected:f})=>[i("li",{class:g([y?"bg-amber-100 text-amber-900":"text-gray-900","relative cursor-default select-none py-2 pl-10 pr-4"])},[i("span",{class:g([f?"font-medium":"font-normal","block truncate"])},c(l.nombre),3),f?(t(),a("span",T,[r(n(I),{"aria-hidden":"true",class:"w-5 h-5"})])):b("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),e.error?(t(),a("div",Z,c(e.error),1)):b("",!0)])]),_:1},8,["model-value","multiple"])}}};export{M as _};
