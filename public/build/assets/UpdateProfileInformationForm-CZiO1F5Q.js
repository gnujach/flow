import{d as y,r,c,o as p,w as s,b as t,g as l,n as _,e as k,f as h,a as n,K as v,Q as P,G as J,i as b}from"./app-CrjSDSZE.js";import{J as $}from"./Button-CTps0wNp.js";import{J as S}from"./FormSection-CbTnM6eh.js";import{J as C}from"./Input-CqJa7EzR.js";import{J as I}from"./InputError-C4sIoWSy.js";import{J as V}from"./Label-Bh9qsYGL.js";import{J as B}from"./ActionMessage-02ftrG__.js";import{J as F}from"./SecondaryButton-DQcVME4i.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./SectionTitle-DRVvhIEo.js";const U=y({components:{JetActionMessage:B,JetButton:$,JetFormSection:S,JetInput:C,JetInputError:I,JetLabel:V,JetSecondaryButton:F},props:["user"],data(){return{form:this.$inertia.form({_method:"PUT",name:this.user.name,email:this.user.email,photo:null}),photoPreview:null}},methods:{updateProfileInformation(){this.$refs.photo&&(this.form.photo=this.$refs.photo.files[0]),this.form.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>this.clearPhotoFileInput()})},selectNewPhoto(){this.$refs.photo.click()},updatePhotoPreview(){const e=this.$refs.photo.files[0];if(!e)return;const o=new FileReader;o.onload=u=>{this.photoPreview=u.target.result},o.readAsDataURL(e)},deletePhoto(){this.$inertia.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{this.photoPreview=null,this.clearPhotoFileInput()}})},clearPhotoFileInput(){this.$refs.photo?.value&&(this.$refs.photo.value=null)}}}),E={key:0,class:"col-span-6 sm:col-span-4"},z={class:"mt-2"},A=["src","alt"],G={class:"mt-2"},D={class:"col-span-6 sm:col-span-4"},L={class:"col-span-6 sm:col-span-4"};function M(e,o,u,R,T,K){const i=r("jet-label"),d=r("jet-secondary-button"),m=r("jet-input-error"),f=r("jet-input"),g=r("jet-action-message"),w=r("jet-button"),j=r("jet-form-section");return p(),c(j,{onSubmitted:e.updateProfileInformation},{title:s(()=>[...o[3]||(o[3]=[l(" Información de su perfil ",-1)])]),description:s(()=>[...o[4]||(o[4]=[l(" Actualiza tu nombre y correo electrónico. ",-1)])]),form:s(()=>[e.$page.props.jetstream.managesProfilePhotos?(p(),k("div",E,[n("input",{type:"file",class:"hidden",ref:"photo",onChange:o[0]||(o[0]=(...a)=>e.updatePhotoPreview&&e.updatePhotoPreview(...a))},null,544),t(i,{for:"photo",value:"Foto"}),v(n("div",z,[n("img",{src:e.user.profile_photo_url,alt:e.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,A)],512),[[P,!e.photoPreview]]),v(n("div",G,[n("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:J("background-image: url('"+e.photoPreview+"');")},null,4)],512),[[P,e.photoPreview]]),t(d,{class:"mt-2 mr-2",type:"button",onClick:b(e.selectNewPhoto,["prevent"])},{default:s(()=>[...o[5]||(o[5]=[l(" Seleccionar foto ",-1)])]),_:1},8,["onClick"]),e.user.profile_photo_path?(p(),c(d,{key:0,type:"button",class:"mt-2",onClick:b(e.deletePhoto,["prevent"])},{default:s(()=>[...o[6]||(o[6]=[l(" Eliminar foto ",-1)])]),_:1},8,["onClick"])):h("",!0),t(m,{message:e.form.errors.photo,class:"mt-2"},null,8,["message"])])):h("",!0),n("div",D,[t(i,{for:"name",value:"Name"}),t(f,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:e.form.name,"onUpdate:modelValue":o[1]||(o[1]=a=>e.form.name=a),autocomplete:"name"},null,8,["modelValue"]),t(m,{message:e.form.errors.name,class:"mt-2"},null,8,["message"])]),n("div",L,[t(i,{for:"email",value:"Email"}),t(f,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:e.form.email,"onUpdate:modelValue":o[2]||(o[2]=a=>e.form.email=a)},null,8,["modelValue"]),t(m,{message:e.form.errors.email,class:"mt-2"},null,8,["message"])])]),actions:s(()=>[t(g,{on:e.form.recentlySuccessful,class:"mr-3"},{default:s(()=>[...o[7]||(o[7]=[l(" Guardado. ",-1)])]),_:1},8,["on"]),t(w,{class:_({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:s(()=>[...o[8]||(o[8]=[l(" Guardar ",-1)])]),_:1},8,["class","disabled"])]),_:1},8,["onSubmitted"])}const te=N(U,[["render",M]]);export{te as default};
