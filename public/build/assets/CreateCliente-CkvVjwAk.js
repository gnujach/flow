import{A as C}from"./AppLayout-DvZhDYGv.js";import{J as U}from"./Button-DYi5d6FP.js";import{J as I}from"./FormSection-DQMytoRC.js";import{J as g}from"./Input-BI_iGO1Y.js";import{J as B}from"./Checkbox-DCraMf00.js";import{J as u}from"./InputError-U-lskrRX.js";import{J as $}from"./SectionBorder-D4ojhM8v.js";import{J as m}from"./Label-_b3VnWKN.js";import{J as F}from"./ActionMessage-B-Ztyjv3.js";import{k as J,r as S,c as V,o as i,w as r,a,b as e,e as f,f as k,m as o,t as _,T as j,F as N,h as T,n as h,u as E,g as y}from"./app-CArJwsA3.js";import{u as L}from"./usePrevalidate-DvIXLl7Z.js";import{_ as P}from"./Breadcrumb-d2dfjcg6.js";import{_ as q}from"./BaseListbox-BRYblNm9.js";import{j as G,A as z,F as D,I as M}from"./listbox-DvY5OrUg.js";import"./ResponsiveNavLink-Re4XPsQJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-C3AtBab6.js";import"./transition-DvF6H_Oy.js";import"./open-closed-B45GE6EM.js";import"./keyboard-DJJQ75-z.js";import"./use-resolve-button-type-ty-xYOe2.js";import"./SectionTitle-DbZK12cy.js";import"./ChevronRightIcon-Bnm1pgsz.js";import"./form-CO_oVJRj.js";const R={class:"relative mt-1"},H={key:0,class:"block truncate"},K={key:1,class:"text-gray-500"},O={class:"flex absolute inset-y-0 right-0 items-center pr-2 pointer-events-none"},Q={key:0,class:"flex absolute inset-y-0 left-0 items-center pl-3 text-amber-600"},W={key:0,class:"text-xs text-red-400 mt-1"},X={__name:"BaseListboxCt",props:{options:Array,modelValue:[String,Number,Array],placeholder:{type:String,default:"Select option"},multiple:Boolean,error:String},emits:["update:modelValue"],setup(c,{emit:x}){const n=c,l=x,v=J(()=>n.options.filter(d=>Array.isArray(n.modelValue)?n.modelValue.includes(d.full_name):n.modelValue===d.full_name).map(d=>d.full_name).join(", "));return(d,p)=>{const t=S("SelectorIcon"),s=S("CheckIcon");return i(),V(o(M),{"model-value":n.modelValue,multiple:n.multiple,"onUpdate:modelValue":p[0]||(p[0]=b=>l("update:modelValue",b))},{default:r(()=>[a("div",R,[e(o(G),{class:"relative py-2 pr-10 pl-3 w-full text-left bg-white rounded-lg shadow-md cursor-default focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:r(()=>[v.value?(i(),f("span",H,_(v.value),1)):(i(),f("span",K,_(n.placeholder),1)),a("span",O,[e(t,{"aria-hidden":"true",class:"w-5 h-5 text-gray-400"})])]),_:1}),e(j,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:r(()=>[e(o(z),{class:"overflow-auto absolute z-10 py-1 mt-1 w-full max-h-60 text-base bg-white rounded-md ring-1 ring-black ring-opacity-5 shadow-lg focus:outline-none sm:text-sm"},{default:r(()=>[(i(!0),f(N,null,T(n.options,b=>(i(),V(o(D),{key:b.full_name,value:b.full_name,as:"template"},{default:r(({active:A,selected:w})=>[a("li",{class:h([A?"bg-amber-100 text-amber-900":"text-gray-900","relative cursor-default select-none py-2 pl-10 pr-4"])},[a("span",{class:h([w?"font-medium":"font-normal","block truncate"])},_(b.full_name),3),w?(i(),f("span",Q,[e(s,{"aria-hidden":"true",class:"w-5 h-5"})])):k("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),n.error?(i(),f("div",W,_(n.error),1)):k("",!0)])]),_:1},8,["model-value","multiple"])}}},Y={class:"font-semibold text-xl text-gray-800 leading-tight"},Z={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},ee={class:"col-span-6 sm:col-span-4"},oe={class:"col-span-6 sm:col-span-4"},le={class:"col-span-6 sm:col-span-4"},te={class:"col-span-6 sm:col-span-4"},se={class:"col-span-6 sm:col-span-4"},ae={key:0,class:"col-span-6 sm:col-span-4"},re={class:"col-span-6 sm:col-span-4 flex flex-row justify-between"},ne={class:"col-span-6 sm:col-span-4"},$e={__name:"CreateCliente",props:{puestos:{type:Array,required:!1,default:()=>[]},ccts:{type:Array,required:!1,default:()=>[]}},setup(c){const x=c,n=J(()=>[{label:"Inicio",url:route("dashboard.list")},{label:"Usuarios",url:route("admin.clientes/")},{label:"Nuevo usuario"}]),l=E({nombre:null,apellido1:null,apellido2:null,email:null,cct_id:1,interno:1,puesto_id:null,telefono:null,puesto_id:null}),{validate:v}=L(l,{method:"post",url:route("admin.clientes/store")}),d=()=>l.transform(p=>({...p,interno:p.interno?1:0})).post(route("admin.clientes/store"),{errorBag:"saveRequisitoInformation",preserveScroll:!0});return(p,t)=>(i(),V(C,null,{header:r(()=>[a("h2",Y,[e(P,{items:n.value},null,8,["items"])])]),default:r(()=>[a("div",Z,[e(I,{onFocusout:o(v),onSubmitted:d},{title:r(()=>[...t[8]||(t[8]=[y(" Usuarios",-1)])]),description:r(()=>[...t[9]||(t[9]=[y(" Alta de Usuario",-1)])]),form:r(()=>[a("div",ee,[e(m,{for:"nombre",value:"Nombre"}),e(g,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:o(l).nombre,"onUpdate:modelValue":t[0]||(t[0]=s=>o(l).nombre=s),autocomplete:"nombre",autofocus:""},null,8,["modelValue"]),e(u,{message:o(l).errors.nombre,class:"mt-2"},null,8,["message"])]),a("div",oe,[e(m,{for:"apellido1",value:"Primer Apellido"}),e(g,{id:"apellido1",type:"text",class:"mt-1 block w-full",modelValue:o(l).apellido1,"onUpdate:modelValue":t[1]||(t[1]=s=>o(l).apellido1=s),autocomplete:"apellido1"},null,8,["modelValue"]),e(u,{message:o(l).errors.apellido1,class:"mt-2"},null,8,["message"])]),a("div",le,[e(m,{for:"apellido2",value:"Segundo Apellido"}),e(g,{id:"apellido2",type:"text",class:"mt-1 block w-full",modelValue:o(l).apellido2,"onUpdate:modelValue":t[2]||(t[2]=s=>o(l).apellido2=s)},null,8,["modelValue"]),e(u,{message:o(l).errors.apellido2,class:"mt-2"},null,8,["message"])]),a("div",te,[e(m,{for:"email",value:"Correo Electrónico"}),e(g,{id:"email",type:"text",class:"mt-1 block w-full",modelValue:o(l).email,"onUpdate:modelValue":t[3]||(t[3]=s=>o(l).email=s)},null,8,["modelValue"]),e(u,{message:o(l).errors.email,class:"mt-2"},null,8,["message"])]),a("div",se,[e(m,{for:"telefono",value:"Teléfono"}),e(g,{id:"telefono",type:"text",class:"mt-1 block w-full",modelValue:o(l).telefono,"onUpdate:modelValue":t[4]||(t[4]=s=>o(l).telefono=s)},null,8,["modelValue"]),e(u,{message:o(l).errors.telefono,class:"mt-2"},null,8,["message"])]),x.puestos&&c.puestos.length>0?(i(),f("div",ae,[e(m,{for:"puesto",value:"Puesto"}),e(q,{options:c.puestos,placeholder:"Seleccione Puesto de Trabajo",modelValue:o(l).puesto_id,"onUpdate:modelValue":t[5]||(t[5]=s=>o(l).puesto_id=s)},null,8,["options","modelValue"]),e(u,{message:o(l).errors.puesto_id,class:"mt-2"},null,8,["message"])])):k("",!0),a("div",re,[e(m,{for:"interno",value:"El usuario pertenece a SEG"}),e(B,{id:"interno",type:"checkbox",class:"mt-1 block",checked:"",modelValue:o(l).interno,"onUpdate:modelValue":t[6]||(t[6]=s=>o(l).interno=s)},null,8,["modelValue"]),e(u,{message:o(l).errors.interno,class:"mt-2"},null,8,["message"])]),a("div",ne,[e(m,{for:"cct_id",value:"Centro de Trabajo"}),e(X,{options:c.ccts,placeholder:"Seleccione Centro de Trabajo",modelValue:o(l).cct_id,"onUpdate:modelValue":t[7]||(t[7]=s=>o(l).cct_id=s)},null,8,["options","modelValue"]),e(u,{message:o(l).errors.cct_id,class:"mt-2"},null,8,["message"])])]),actions:r(()=>[e(F,{on:o(l).recentlySuccessful,class:"mr-3"},{default:r(()=>[...t[10]||(t[10]=[y(" Guardado!! ",-1)])]),_:1},8,["on"]),e($),e(U,{class:h({"opacity-25":o(l).processing}),disabled:o(l).processing},{default:r(()=>[...t[11]||(t[11]=[y(" Guardar ",-1)])]),_:1},8,["class","disabled"])]),_:1},8,["onFocusout"])])]),_:1}))}};export{$e as default};
