import{d as B,p as D}from"./form-XHIhsXjh.js";import{i as I,o as K,A as L,f as O,E as T,b as j,T as A,a as m}from"./keyboard-B_7vqBBk.js";import{s as F}from"./use-resolve-button-type-DpnxGA4C.js";import{d as P,O as R,k as o,p as q,x as G,q as H,U as v,F as M}from"./app-DtEjYFhl.js";let N=Symbol("GroupContext"),W=P({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(t,{emit:y,attrs:d,slots:b,expose:h}){var i;let k=(i=t.id)!=null?i:`headlessui-switch-${I()}`,l=R(N,null),[u,s]=B(o(()=>t.modelValue),e=>y("update:modelValue",e),o(()=>t.defaultChecked));function p(){s(!u.value)}let x=q(null),n=l===null?x:l.switchRef,C=F(o(()=>({as:t.as,type:d.type})),n);h({el:n,$el:n});function S(e){e.preventDefault(),p()}function $(e){e.key===m.Space?(e.preventDefault(),p()):e.key===m.Enter&&D(e.currentTarget)}function g(e){e.preventDefault()}let r=o(()=>{var e,a;return(a=(e=K(n))==null?void 0:e.closest)==null?void 0:a.call(e,"form")});return G(()=>{H([r],()=>{if(!r.value||t.defaultChecked===void 0)return;function e(){s(t.defaultChecked)}return r.value.addEventListener("reset",e),()=>{var a;(a=r.value)==null||a.removeEventListener("reset",e)}},{immediate:!0})}),()=>{let{name:e,value:a,form:w,tabIndex:f,...c}=t,E={checked:u.value},V={id:k,ref:n,role:"switch",type:C.value,tabIndex:f===-1?0:f,"aria-checked":u.value,"aria-labelledby":l?.labelledby.value,"aria-describedby":l?.describedby.value,onClick:S,onKeyup:$,onKeypress:g};return v(M,[e!=null&&u.value!=null?v(O,T({features:j.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:u.value,form:w,disabled:c.disabled,name:e,value:a})):null,L({ourProps:V,theirProps:{...d,...A(c,["modelValue","defaultChecked"])},slot:E,attrs:d,slots:b,name:"Switch"})])}}});export{W as u};
