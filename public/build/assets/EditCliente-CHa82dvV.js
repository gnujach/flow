import{A as x}from"./AppLayout-DUjHnlK8.js";import{J as _}from"./Button-DhOYru1Y.js";import{J as y}from"./FormSection-CBWoji-s.js";import{J as u}from"./Input-BDvx0nL_.js";import{J}from"./Checkbox-CxkiGYRM.js";import{J as n}from"./InputError-BjFp0UJi.js";import{J as k}from"./SectionBorder-DRqS5fuD.js";import{J as m}from"./Label-FidWGsz4.js";import{J as S}from"./ActionMessage-Cg3FMdIs.js";import{k as w,u as C,p as U,q as E,c as j,o as b,w as d,a as r,b as o,m as l,g as p,n as A,e as B,f as N}from"./app-D6wma5Jt.js";import{_ as T}from"./Breadcrumb-CeYhVLbE.js";import{_ as F}from"./BaseListbox-B5ks7F1O.js";import{j as q}from"./index.es-DyMyTSpe.js";import"./ResponsiveNavLink-5BKLrGg6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-Cdwd4ogD.js";import"./transition-BLi5fHmm.js";import"./open-closed-CYEdXda2.js";import"./keyboard-CEw009Jf.js";import"./use-resolve-button-type-MqscY4ya.js";import"./SectionTitle-C7sUbBf9.js";/* empty css            */import"./ChevronRightIcon-AMtqLIrc.js";import"./listbox-C3c35x-A.js";import"./form-B3MoLAoj.js";const G={class:"font-semibold text-xl text-gray-800 leading-tight"},I={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},P={class:"col-span-6 sm:col-span-4"},D={class:"col-span-6 sm:col-span-4"},L={class:"col-span-6 sm:col-span-4"},$={class:"col-span-6 sm:col-span-4"},z={class:"col-span-6 sm:col-span-4"},M={key:0,class:"col-span-6 sm:col-span-4"},O={class:"col-span-6 sm:col-span-4 flex flex-row justify-between"},H={class:"col-span-6 sm:col-span-4"},Ve={__name:"EditCliente",props:{cliente:Object,puestos:{type:Array,required:!1},ccts:{type:Array,required:!1,default:()=>[]}},setup(c){const a=c,g=a.ccts.map(i=>({label:i.full_name,value:i.id})),V=w(()=>[{label:"Inicio",url:route("dashboard.list")},{label:"Usuarios",url:route("admin.clientes/")},{label:"Editar cliente"}]),e=C({nombre:a.cliente.data.attributes.nombre.trim(),apellido1:a.cliente.data.attributes.apellido1.trim(),apellido2:a.cliente.data.attributes.apellido2.trim(),email:a.cliente.data.attributes.email||null,telefono:a.cliente.data.attributes.telefono,cct_id:a.cliente.data.attributes.cct_id,interno:a.cliente.data.attributes.interno?1:0,puesto_id:a.cliente.data.attributes.puesto_id,uuid:a.cliente.data.uuid}),v=()=>e.transform(i=>({...i,interno:i.interno?1:0})).put(route("admin.clientes/update",{cliente:e.uuid}),{preserveScroll:!0}),f=U(e.interno===1);return E(()=>e.interno,i=>{f.value=i,i||(e.cct_id=1)}),(i,t)=>(b(),j(x,null,{header:d(()=>[r("h2",G,[o(T,{items:V.value},null,8,["items"])])]),default:d(()=>[r("div",I,[o(y,{onFocusout:i.validate,onSubmitted:v},{title:d(()=>[...t[8]||(t[8]=[p(" Clientes",-1)])]),description:d(()=>[...t[9]||(t[9]=[p(" Editar Cliente",-1)])]),form:d(()=>[r("div",P,[o(m,{for:"nombre",value:"Nombre"}),o(u,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:l(e).nombre,"onUpdate:modelValue":t[0]||(t[0]=s=>l(e).nombre=s),autocomplete:"nombre",autofocus:""},null,8,["modelValue"]),o(n,{message:l(e).errors.nombre,class:"mt-2"},null,8,["message"])]),r("div",D,[o(m,{for:"apellido1",value:"Primer Apellido"}),o(u,{id:"apellido1",type:"text",class:"mt-1 block w-full",modelValue:l(e).apellido1,"onUpdate:modelValue":t[1]||(t[1]=s=>l(e).apellido1=s),autocomplete:"apellido1"},null,8,["modelValue"]),o(n,{message:l(e).errors.apellido1,class:"mt-2"},null,8,["message"])]),r("div",L,[o(m,{for:"apellido2",value:"Segundo Apellido"}),o(u,{id:"apellido2",type:"text",class:"mt-1 block w-full",modelValue:l(e).apellido2,"onUpdate:modelValue":t[2]||(t[2]=s=>l(e).apellido2=s)},null,8,["modelValue"]),o(n,{message:l(e).errors.apellido2,class:"mt-2"},null,8,["message"])]),r("div",$,[o(m,{for:"email",value:"Correo Electrónico"}),o(u,{id:"email",type:"text",class:"mt-1 block w-full",modelValue:l(e).email,"onUpdate:modelValue":t[3]||(t[3]=s=>l(e).email=s)},null,8,["modelValue"]),o(n,{message:l(e).errors.email,class:"mt-2"},null,8,["message"])]),r("div",z,[o(m,{for:"telefono",value:"Teléfono"}),o(u,{id:"telefono",type:"text",class:"mt-1 block w-full",modelValue:l(e).telefono,"onUpdate:modelValue":t[4]||(t[4]=s=>l(e).telefono=s)},null,8,["modelValue"]),o(n,{message:l(e).errors.telefono,class:"mt-2"},null,8,["message"])]),a.puestos&&c.puestos.length>0?(b(),B("div",M,[o(m,{for:"puesto",value:"Puesto"}),o(F,{options:c.puestos,placeholder:"Seleccione Puesto de Trabajo",modelValue:l(e).puesto_id,"onUpdate:modelValue":t[5]||(t[5]=s=>l(e).puesto_id=s)},null,8,["options","modelValue"]),o(n,{message:l(e).errors.puesto_id,class:"mt-2"},null,8,["message"])])):N("",!0),r("div",O,[o(m,{for:"interno",value:"El usuario pertenece a SEG"}),o(J,{id:"interno",type:"checkbox",class:"mt-1 block",checked:"",modelValue:l(e).interno,"onUpdate:modelValue":t[6]||(t[6]=s=>l(e).interno=s)},null,8,["modelValue"]),o(n,{message:l(e).errors.interno,class:"mt-2"},null,8,["message"])]),r("div",H,[o(m,{for:"cct_id",value:"Centro de Trabajo"}),o(l(q),{options:l(g),placeholder:"Seleccione Centro de Trabajo",modelValue:l(e).cct_id,"onUpdate:modelValue":t[7]||(t[7]=s=>l(e).cct_id=s),isDisabled:!f.value},null,8,["options","modelValue","isDisabled"]),o(n,{message:l(e).errors.cct_id,class:"mt-2"},null,8,["message"])])]),actions:d(()=>[o(S,{on:l(e).recentlySuccessful,class:"mr-3"},{default:d(()=>[...t[10]||(t[10]=[p(" Guardado!! ",-1)])]),_:1},8,["on"]),o(k),o(_,{class:A({"opacity-25":l(e).processing}),disabled:l(e).processing},{default:d(()=>[...t[11]||(t[11]=[p(" Guardar ",-1)])]),_:1},8,["class","disabled"])]),_:1},8,["onFocusout"])])]),_:1}))}};export{Ve as default};
