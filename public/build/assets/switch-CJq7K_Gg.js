import{d as B,p as D}from"./form-CO_oVJRj.js";import{i as I,o as K,A as L,f as T,E as j,T as A,b as F,a as m}from"./keyboard-DJJQ75-z.js";import{s as G}from"./use-resolve-button-type-ty-xYOe2.js";import{d as O,U as P,k as o,v as R,s as H,G as J,J as v,F as M}from"./app-CArJwsA3.js";let N=Symbol("GroupContext"),W=O({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(t,{emit:y,attrs:d,slots:b,expose:h}){var i;let k=(i=t.id)!=null?i:`headlessui-switch-${I()}`,l=P(N,null),[u,s]=B(o(()=>t.modelValue),e=>y("update:modelValue",e),o(()=>t.defaultChecked));function p(){s(!u.value)}let C=R(null),n=l===null?C:l.switchRef,S=G(o(()=>({as:t.as,type:d.type})),n);h({el:n,$el:n});function x(e){e.preventDefault(),p()}function $(e){e.key===m.Space?(e.preventDefault(),p()):e.key===m.Enter&&D(e.currentTarget)}function g(e){e.preventDefault()}let r=o(()=>{var e,a;return(a=(e=K(n))==null?void 0:e.closest)==null?void 0:a.call(e,"form")});return H(()=>{J([r],()=>{if(!r.value||t.defaultChecked===void 0)return;function e(){s(t.defaultChecked)}return r.value.addEventListener("reset",e),()=>{var a;(a=r.value)==null||a.removeEventListener("reset",e)}},{immediate:!0})}),()=>{let{name:e,value:a,form:w,tabIndex:f,...c}=t,E={checked:u.value},V={id:k,ref:n,role:"switch",type:S.value,tabIndex:f===-1?0:f,"aria-checked":u.value,"aria-labelledby":l==null?void 0:l.labelledby.value,"aria-describedby":l==null?void 0:l.describedby.value,onClick:x,onKeyup:$,onKeypress:g};return v(M,[e!=null&&u.value!=null?v(T,j({features:F.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:u.value,form:w,disabled:c.disabled,name:e,value:a})):null,L({ourProps:V,theirProps:{...d,...A(c,["modelValue","defaultChecked"])},slot:E,attrs:d,slots:b,name:"Switch"})])}}});export{W as u};
